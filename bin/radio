#!/usr/bin/env ruby
require 'audio_addict'

router = AudioAddict::CLI.router

begin
  exit router.run ARGV
rescue AudioAddict::Interrupt, TTY::Reader::InputInterrupt
  say "\nGoodbye"
  exit 1  
rescue => e
  say ""
  puts e.backtrace.reverse if ENV['DEBUG']
  say ""
  say "!undred!ERROR: #{e.class}"
  say e.message
  exit 1
end